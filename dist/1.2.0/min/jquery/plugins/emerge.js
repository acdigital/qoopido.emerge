(function(t,e){"use strict";var i=function i(){return e.qoopido.shared.module.initialize("jquery/plugins/emerge",t,arguments)};"function"==typeof define&&define.amd?define(["../../base","../../unique","jquery"],i):i(e.qoopido.base,e.qoopido.unique,e.jQuery)})(function(t,e,i,o,r,n,_){"use strict";var s,l,v,a="emerge",p={interval:50,threshold:"auto",recur:!0,auto:.5,visibility:!0},h=i(r),u="emerged."+a,g="demerged."+a,c="resize orientationchange";if("CSS1Compat"!==n.compatMode)throw"This plugin will not work correctly in quirks mode, please ensure your Browser is in standards mode.";return i.fn[a]=function(t){return this.each(function(){v.create(this,t)})},s=function s(t){var e,i=v._elements[t];for(e in i)i[e]._checkState!==_&&i[e]._checkState();0===i.length&&(r.clearInterval(v._intervals[t]),delete v._intervals[t])},l=function(){v._viewport.left=0,v._viewport.top=0,v._viewport.right=h.width(),v._viewport.bottom=h.height()},v=t.extend({_viewport:{left:0,top:0,right:h.width(),bottom:h.height()},_intervals:{},_elements:{},_constructor:function(t,o){var n=this;o=i.extend(!0,{},p,o||{}),"auto"===o.threshold&&delete o.threshold,v._intervals[o.interval]===_&&(v._elements[o.interval]=v._elements[o.interval]||{length:0},v._intervals[o.interval]=r.setInterval(function(){s(o.interval)},o.interval)),n._element=t,n._object=i(t),n._settings=o,n._viewport={left:0,top:0,right:0,bottom:0},n._state=!1,n._priority=2,n._uuid=e.uuid(),v._elements[o.interval][n._uuid]=n,v._elements[o.interval].length++,h.on(c,function(){n._onResize.call(n)}),n._onResize()},_checkState:function(){var t,e=this,i=!1,o=2;!e._object.is(":visible")||"hidden"===e._element.style.visibility&&e._settings.visibility!==!1||(t=e._element.getBoundingClientRect(),(t.left>=e._viewport.left&&t.top>=e._viewport.top&&t.left<=e._viewport.right&&t.top<=e._viewport.bottom||t.right>=e._viewport.left&&t.bottom>=e._viewport.top&&t.right<=e._viewport.right&&t.bottom<=e._viewport.bottom)&&((t.left>=v._viewport.left&&t.top>=v._viewport.top&&t.left<=v._viewport.right&&t.top<=v._viewport.bottom||t.right>=v._viewport.left&&t.bottom>=v._viewport.top&&t.right<=v._viewport.right&&t.bottom<=v._viewport.bottom)&&(o=1),i=!0)),(i!==e._state||o!==e._priority)&&(e._state=i,e._priority=o,e._changeState())},_changeState:function(){var t,e=this;e._settings.recur!==!0&&e._remove(),e._state===!0?(t=i.Event(u),t.priority=e._priority):t=i.Event(g),e._object.trigger(t)},_remove:function(){var t=this;delete v._elements[t._settings.interval][t._uuid],v._elements[t._settings.interval].length--},_onResize:function(){var t=this,e=t._settings.threshold||h.width()*t._settings.auto,i=t._settings.threshold||h.height()*t._settings.auto;t._viewport.left=v._viewport.left-e,t._viewport.top=v._viewport.top-i,t._viewport.right=v._viewport.right+e,t._viewport.bottom=v._viewport.bottom+i}}),h.on(c,l),v},window);